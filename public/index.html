<!DOCTYPE html>
<html ng-app="weather">
  <head>
    <title>Kyle's Weather App</title>
    <link href="css/topcoat-desktop-light.min.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
  </head>
  <body ng-controller="main">
    <div id="topSection">
      <div class="leftCol">
        <img class="logo" src="images/logo.png"/>
        <span id="appName">KWeather</span>
      </div>
      <div class="rightCol">
        <div class="cityForm">
          <form name="city">
            <label>City:</label>
            <input class="topcoat-search-input--large" type="search" placeholder="Select a city" ng-model="locQuery" autofocus>
            <label>Number of days (max 10): </label>
            <input type="range" class="topcoat-range" value="10" min="0" max="10" ng-model="numDaysQ">
            <button class="topcoat-button--large--cta" ng-click="getForecastByLocation(locQuery)">Submit</button>
          </form>
        </div>

        <div class="alternatives" ng-show="alternatives">
          <h3>Did you mean . . . </h3>
          <div ng-repeat="city in alternatives" ng-click="selectCity(city)">
            <button class="topcoat-button--large--cta">{{city.city}}, {{city.state}} {{city.country_name}}</button>
          </div>
        </div>
      </div>
    </div>
    <div class="curCity"><h2>{{numDays}} Day Forecast for {{ location }}</h2></div>
    <div id="bottomSection">
      <div id="forecast">
        <div class="forecastDay" ng-repeat="day in forecast | limitTo: numDays">
          <div class="dayIcon"><img src="{{day.icon_url}}"/></div>
          <div class="temp">
            High: {{day.high.fahrenheit}}<br>
            Low:  {{day.low.fahrenheit}}
          </div>
          <div class="date">{{day.date.weekday}} {{day.date.monthname}} {{day.date.day}}</div>
          <div class="clearfix"></div>
        </div>
      </div>

      <div id="charts">
        <h3> Sunny Days: {{ ((sunnyDays/numDays)*100) | number:0 }}%</h3>
        <div>
          <h3>Temperature</h3>
          <canvas id="tempChart" width="600" height="200"></canvas>
        </div>
        <div>
          <h3>Rainfall</h3>
          <canvas id="rainChart" width="600" height="200"></canvas>
        </div>
      </div>
    </div>


    <div class="attribution">
      <a href="http://www.wunderground.com/?apiref=f891597cf9a926dc">App powered by Weather Underground</a>
    </div>

    <!-- Libraries -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.parsecdn.com/js/parse-1.2.7.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
    <script src="js/Chart.js"></script>
    <script src="js/underscore-min.js"></script>

    <!-- App Code -->
    <script src="js/main.js"></script>
  </body>
</html>
